# Palvelinten Hallinta

MacBook Air M2 8 cores, 8GB RAM, 256GB SSD

MacOS Sonoma 14.4 (64-bittinen, Apple Silicon)

QEMU 9.1 ARM Virtual Machine UTM:n kautta

# h3 Soitto kotiin 

## x) 

## https://terokarvinen.com/2021/two-machine-virtual-network-with-debian-11-bullseye-and-vagrant/

- Vagrant automatisoi VirtualBox virtuaalikoneiden luonnin ja SSH-kirjautumisen, eikä siten graafista käyttöliittymää tarvita

- Yhdellä Vagrantfile-tiedostolla voit luoda nopeasti kahden koneen verkon esim. t001 ja t002, jotka voivat kommunikoida keskenään 
  
- Virtuaalikoneet voi helposti tuhota ja luoda uudelleen komennoilla vagrant destroy ja vagrant up joka on hyvä tapa harjoitella toistettavia asennuksia

## https://terokarvinen.com/2018/salt-quickstart-salt-stack-master-and-slave-on-ubuntu-linux/?fromSearch=salt%20quickstart%20salt%20stack%20master%20and%20slave%20on%20ubuntu%20linux

- Salt mahdollistaa useiden koneiden hallinnan yhdestä masterista, vain masterin IP-osoite tarvitsee olla julkinen
  
- Master asennetaan komennolla sudo apt-get install salt-master ja slave sudo apt-get install salt-minion

- Slavet yhdistetään masteriin muokkaamalla tiedostoa /etc/salt/minion ja lisäämällä masterin IP sekä yksilöllinen id
  
- Avainten hyväksynnän jälkeen (sudo salt-key -A) master voi suorittaa komentoja kaikilla slaveilla, kuten sudo salt '*' cmd.run 'hostname -I'

## https://terokarvinen.com/2023/salt-vagrant/#infra-as-code---your-wishes-as-a-text-file 

- Salt Vagrant luo automaattisesti kolme virtuaalikonetta yhden masterin ja kaksi slavea ja sitten konfiguroi ne valmiiksi Salt hallintaa varten

- Vagrantfile sisältää asennus ja konfiguraatioskriptit, jotka asentavat salt-master sekä salt-minion paketit ja yhdistävät slavet masteriin
  
- Slavet hyväksytään masterilla komennolla sudo salt-key -A, minkä jälkeen voidaan ajaa komentoja kaikilla koneilla sudo salt '*' test.ping, cmd.run, jne.
  
- Saltin voima on idempotenteissa tiloissa (states), ne määrittelevät halutun lopputilan esim. pkg.installed, service.running, file.managed ja tekevät muutoksia vain tarvittaessa


## a) Hello Vagrant

Minulla siis Macbook Arm64 arkkitehtuurin kone, yritin tehdä kyseisen tehtävän myös dockerin avulla imitoidakseni tehtävää, mutta en onnistunut siinä. Teen tehtävän koulun koneella tai lainaan tehtävään soveltuvaa tietokonetta joltain.



